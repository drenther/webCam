"use strict"
function _toConsumableArray(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t]
return e}return Array.from(a)}!function(){function a(){var a=i.videoWidth,t=i.videoHeight
return c.height=t,c.width=a,setInterval(function(){l.drawImage(i,0,0,a,t)
var o=l.getImageData(0,0,a,t)
switch([].concat(_toConsumableArray(document.querySelectorAll("input[type='radio']"))).filter(function(a){return a.checked})[0].value){case"red":o=e(o),l.globalAlpha=1
break
case"green":o=r(o),l.globalAlpha=1
break
case"blue":o=n(o),l.globalAlpha=1
break
case"hal":o=d(o),l.globalAlpha=.1}l.putImageData(o,0,0)})}function t(){var a=o(".snap")
a.currentTime=0,a.play()
var t=c.toDataURL("image/jpeg"),e=document.createElement("span")
e.className="photos"
var r=document.createElement("a")
r.href=t,r.setAttribute("download","me"),r.innerHTML="<img src="+t+' class="snaps" alt="My Snap" />',e.appendChild(r),u.insertBefore(e,u.firstChild),Materialize.toast("Snap stored to strip!",300)}function e(a){for(var t=0;t<a.data.length;t+=4)a.data[t+0]=a.data[t+0]+100,a.data[t+1]=a.data[t+1]-50,a.data[t+2]=a.data[t+2]-50
return a}function r(a){for(var t=0;t<a.data.length;t+=4)a.data[t+0]=a.data[t+0]-50,a.data[t+1]=a.data[t+1]+100,a.data[t+2]=a.data[t+2]-50
return a}function n(a){for(var t=0;t<a.data.length;t+=4)a.data[t+0]=a.data[t+0]-50,a.data[t+1]=a.data[t+1]-50,a.data[t+2]=a.data[t+2]+100
return a}function d(a){for(var t=0;t<a.data.length;t+=4)a.data[t-150]=a.data[t+0],a.data[t+300]=a.data[t+1],a.data[t-350]=a.data[t+2]
return a}var o=document.querySelector.bind(document),i=o("video"),c=o("canvas"),l=c.getContext("2d"),u=o(".strip")
!function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(a){i.src=window.URL.createObjectURL(a)}).catch(Materialize.toast("Let us access your camera",300))}(),o(".take-photo").addEventListener("click",t),i.addEventListener("canplay",a)}()
